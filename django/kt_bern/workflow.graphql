mutation CreateEBauNumberTask {
  saveSimpleTask(
    input: {
      slug: "ebau-number"
      name: "eBau-Nummer vergeben"
      addressGroups: "['municipality']|groups"
    }
  ) {
    clientMutationId
  }
}
mutation CreateClaimTask {
  saveCompleteTaskFormTask(
    input: {
      slug: "nfd"
      name: "Nachforderungen"
      form: "nfd"
      addressGroups: "['municipality']|groups"
    }
  ) {
    clientMutationId
  }
}

mutation CreateSb1Task {
  saveCompleteTaskFormTask(
    input: {
      slug: "sb1"
      name: "Selbstdeklaration 1"
      form: "sb1"
      addressGroups: "[]"
      controlGroups: "['construction_control']|groups"
    }
  ) {
    clientMutationId
  }
}

mutation CreateSb2Task {
  saveCompleteTaskFormTask(
    input: {
      slug: "sb2"
      name: "Selbstdeklaration 2"
      form: "sb2"
      addressGroups: "[]"
      controlGroups: "['construction_control']|groups"
    }
  ) {
    clientMutationId
  }
}

mutation CreateSubmitTask {
  saveCompleteWorkflowFormTask(
    input: { slug: "submit", name: "Gesuch einreichen", addressGroups: "[]" }
  ) {
    clientMutationId
  }
}

mutation CreateBuildingPermitWorkflow {
  saveWorkflow(
    input: {
      slug: "building-permit"
      name: "Baugesuch"
      startTasks: ["submit"]
      allowForms: ["baugesuch", "baugesuch-generell", "baugesuch-mit-uvp"]
      isPublished: true
    }
  ) {
    clientMutationId
  }
}

mutation CreatePreliminaryClarificationWorkflow {
  saveWorkflow(
    input: {
      slug: "preliminary-clarification"
      name: "Vorabkl√§rung"
      startTasks: ["submit"]
      allowForms: ["vorabklaerung-einfach", "vorabklaerung-vollstaendig"]
      isPublished: true
    }
  ) {
    clientMutationId
  }
}

mutation CreateFlow1 {
  addWorkflowFlow(
    input: {
      workflow: "building-permit"
      tasks: ["submit"]
      next: "['ebau-number', 'nfd']|tasks"
    }
  ) {
    clientMutationId
  }
}

mutation CreateFlow2 {
  addWorkflowFlow(
    input: {
      workflow: "building-permit"
      tasks: ["ebau-number", "nfd"]
      next: "'sb1'|task"
    }
  ) {
    clientMutationId
  }
}

mutation CreateFlow3 {
  addWorkflowFlow(
    input: { workflow: "building-permit", tasks: ["sb1"], next: "'sb2'|task" }
  ) {
    clientMutationId
  }
}

mutation CreateFlow4 {
  addWorkflowFlow(
    input: {
      workflow: "preliminary-clarification"
      tasks: ["submit"]
      next: "['ebau-number', 'nfd']|tasks"
    }
  ) {
    clientMutationId
  }
}
