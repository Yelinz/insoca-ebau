<div id={{question.name}} class="uk-card uk-card-default uk-card-hover uk-card-small uk-width-1-1 uk-margin-bottom">
  <div class="uk-card-header uk-flex uk-flex-between">
    <span class="uk-text-bolder">
      {{question.field.label}}{{#if question.field.required}} <span class="uk-text-danger">*</span>{{/if}}
    </span>
    {{camac-hint-dialog question.field.hint}}
  </div>
  <div class="uk-card-body uk-text-small uk-padding-remove">
    <table class="uk-table uk-table-divider uk-table-small uk-table-middle">
      <tbody>
        {{#each question.model as |doc|}}
          <tr>
            <td class="uk-table-expand uk-text-truncate">
              <span class="uk-link" title={{doc.name}}>{{doc.name}}</span>
              {{#unless isEmbedded}}
                <div uk-drop="pos: left-center; animation: uk-animation-slide-left-small" class="uk-height-small uk-width-small uk-box-shadow-large uk-z-index">
                  <div class="uk-width-1-1 uk-height-1-1 uk-cover-container">
                    {{#with doc.thumbnail.lastSuccessful.value as |thumbnail|}}
                      <img uk-cover src={{thumbnail}} alt="Dokumentenvorschau">
                    {{/with}}
                  </div>
                </div>
              {{/unless}}
            </td>
            <td class="uk-text-right">
              <button
                data-test-download-document
                type="button"
                uk-icon="cloud-download"
                class="uk-icon-button"
                title="Dokument herunterladen"
                {{action (perform download) doc}}
              ></button>
              {{#unless readonly}}
                <div uk-form-custom>
                  <button
                    data-test-replace-document
                    type="button"
                    uk-icon="cloud-upload"
                    class="uk-icon-button"
                  ></button>
                  <input
                    type="file"
                    accept={{mimeTypes}}
                    title="Dokument ersetzen"
                    onchange={{action (action (perform upload) doc) value='target.files'}}
                  >
                </div>
              {{/unless}}
              {{#if (or (eq instance.instanceState.name "new") (eq instance.instanceState.name "rejected"))}}
                <button
                  data-test-delete-document
                  class="uk-icon-button confirm-delete-{{doc.id}}"
                  title="Dokument löschen"
                  uk-icon="trash"
                  uk-toggle="target: .confirm-delete-{{doc.id}}; animation: uk-animation-slide-bottom uk-animation-fast;"
                ></button>
                <span class="uk-text-danger confirm-delete-{{doc.id}}" hidden>
                  Löschen?<br>
                  <button
                    data-test-delete-document-confirm
                    class="uk-icon-button uk-text-danger"
                    uk-icon="check"
                    title="Ja"
                    {{action (perform delete) doc on='click' bubbles=false}}
                  ></button>
                  <button
                    class="uk-icon-button uk-text-danger"
                    uk-icon="close"
                    title="Nein"
                    uk-toggle="target: .confirm-delete-{{doc.id}}; animation: uk-animation-slide-bottom uk-animation-fast;"
                  ></button>
                </span>
              {{/if}}
            </td>
          </tr>
        {{/each}}
        {{#if (not readonly)}}
          <tr>
            <td colspan="2" class="uk-text-center">
              <div uk-form-custom class="uk-width-1-1 uk-height-1-1">
                <button
                  data-test-upload-document
                  type="button"
                  uk-icon="plus"
                ></button>
                <input
                  type="file"
                  multiple="true"
                  accept={{mimeTypes}}
                  title="Neue Dokumente hochladen"
                  onchange={{action (action (perform upload) null) value='target.files'}}
                >
              </div>
            </td>
          </tr>
        {{else if (and readonly (not question.model.length))}}
          <tr>
            <td colspan="2" class="uk-text-center">
              Kein Eintrag vorhanden
            </td>
          </tr>
        {{/if}}
      </tbody>
    </table>
  </div>
</div>
