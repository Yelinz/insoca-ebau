<iframe name="map" src={{link}}></iframe>

<div class="uk-flex uk-flex-between uk-margin-small-top">
  <div>
    {{uk-button
      label=(t "gis.apply-button")
      on-click=(action "applySelection")
      loading=(or
        populateFields.isRunning
        populateTable.isRunning
        fetchAdditionalData.isRunning
      )
      size="small"
    }}

    <button
      type="button"
      uk-icon="warning"
      class="uk-margin-small-left"
      {{action (mut showInstructions) true}}>
    </button>
  </div>

  <div class="uk-text-right">
    <small class="uk-text-muted">
      {{t "gis.no-map.message"}}
      <a href={{link}} target="map">{{t "gis.no-map.link"}}</a>
    </small>
  </div>
</div>

{{#uk-modal visible=showInstructions on-hide=(action (mut showInstructions) false)}}
  {{t "gis.info-override"}}
{{/uk-modal}}

{{#uk-modal
  visible=showConfirmation
  on-hide=(action (mut showConfirmation) false)
  escClose=false
  bgClose=false
}}
  <h1 class="uk-modal-title">{{t "gis.additional.title"}}</h1>

  <ul class="uk-list uk-list-divider">
    {{#each gisData as |data|}}
      <li>
        <strong>{{data.field.question.label}}</strong><br>
        {{data.valuePretty}}
      </li>
    {{/each}}
  </ul>

  <div class="uk-text-right uk-margin-top">
    {{uk-button
      label=(t "gis.additional.no")
      on-click=(action (mut showConfirmation) false)
    }}

    {{uk-button
      label=(t "gis.additional.yes")
      color="primary"
      loading=saveAdditionalData.isRunning
      on-click=(perform saveAdditionalData)
    }}
  </div>
{{/uk-modal}}