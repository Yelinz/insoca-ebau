<Notifications />

<Filters {{did-insert (perform this.fetchWorkItems)}} as |Filter|>
  <Filter.RadioButtons
    @name="responsible"
    @label={{t "workItems.filters.responsible"}}
    @selected={{this.responsible}}
    @options={{
      array
      (hash value="all" label=(t "workItems.filters.all"))
      (hash value="own" label=(t "workItems.filters.own"))
    }}
    @onChange={{fn this.updateFilter "responsible"}}
  />
  <Filter.RadioButtons
    @name="type"
    @label={{t "workItems.filters.type"}}
    @selected={{this.type}}
    @options={{
      array
      (hash value="all" label=(t "workItems.filters.all"))
      (hash value="unread" label=(t "workItems.filters.unread"))
    }}
    @onChange={{fn this.updateFilter "type"}}
  />
  <Filter.RadioButtons
    @name="status"
    @label={{t "workItems.filters.status"}}
    @selected={{this.status}}
    @options={{
      array
      (hash value="open" label=(t "workItems.filters.open"))
      (hash value="closed" label=(t "workItems.filters.closed"))
    }}
    @onChange={{fn this.updateFilter "status"}}
  />
  <Filter.RadioButtons
    @name="role"
    @label={{t "workItems.filters.role"}}
    @selected={{this.role}}
    @options={{
      array
      (hash value="active" label=(t "workItems.filters.active"))
      (hash value="control" label=(t "workItems.filters.control"))
    }}
    @onChange={{fn this.updateFilter "role"}}
  />
</Filters>

<WorkItemList
  @query={{this.workItemsQuery}}
  @columns={{array "task" "instance" "deadline" "responsible"}}
  @highlight={{not-eq this.status "closed"}}
/>
